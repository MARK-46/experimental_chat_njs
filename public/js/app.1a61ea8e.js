(function(e){function t(t){for(var o,s,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"49f8":function(e,t,n){var o={"./en.json":"edd4","./fr.json":"f693"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id="49f8"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("AppBar",{on:{update:function(t){e.showConnectionModal=!0}}}),n("ConnectionModal",{attrs:{"is-open":e.showConnectionModal,"initial-server-url":e.serverUrl,"initial-ws-only":e.wsOnly,"initial-path":e.path,"initial-params":e.params,"is-connecting":e.isConnecting,error:e.connectionError},on:{submit:e.onSubmit}})],1)},r=[],s=n("5530"),i=(n("13d5"),n("1276"),n("ac1f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{attrs:{app:"","clipped-left":""}},[n("img",{staticStyle:{height:"40px"},attrs:{src:e.logoSrc,alt:"logo","max-height":"20","max-width":"20"}}),n("v-toolbar-title",{staticClass:"pl-3"},[e._v("Experimental")]),n("v-btn",{staticClass:"pa-0 ml-2 elevation-0 pt-1",attrs:{small:"",href:e.linkToReleaseNotes}},[e._v(e._s(e.version))]),n("v-spacer"),n("div",{staticClass:"d-flex"},[n("div",[n("div",{staticStyle:{float:"right"}},[e.serverUrl?n("code",[e._v(e._s(e.$t("connection.serverUrl"))+e._s(e.$t("separator"))+e._s(e.serverUrl))]):e._e()]),n("div",[n("ConnectionStatus",{attrs:{connected:e.connected}})],1)]),n("v-btn",{staticClass:"ml-3 align-self-center",on:{click:e.onUpdate}},[e._v(e._s(e.$t("update")))])],1)],1)}),c=[],l=n("2f62"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Status",{attrs:{value:e.connected,"ok-label":e.$t("connected"),"ko-label":e.$t("disconnected")}})},d=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chip",{staticClass:"text-uppercase",staticStyle:{border:"none","background-color":"#e9e9e9 !important","border-radius":"unset",padding:"0 7px"},attrs:{small:"",color:e.color,outlined:""}},[e._v(e._s(e.label))])},m=[],f=(n("99af"),n("fcf4")),v={set socket(e){this._socket=e},get socket(){return this._socket}},h={name:"Status",props:{value:Boolean,koLabel:String,okLabel:String},computed:{label:function(){var e;return this.value?"".concat(this.okLabel," - ").concat(v.socket?null===(e=v.socket)||void 0===e?void 0:e.id:null):this.koLabel},color:function(){return this.value?f["a"].green.base:f["a"].red.base}}},g=h,b=n("2877"),S=n("6544"),_=n.n(S),y=n("cc20"),O=Object(b["a"])(g,p,m,!1,null,null,null),k=O.exports;_()(O,{VChip:y["a"]});var w={name:"ConnectionStatus",components:{Status:k},props:{connected:Boolean}},C=w,x=Object(b["a"])(C,u,d,!1,null,null,null),E=x.exports,N="0.0.1",I={name:"AppBar",components:{ConnectionStatus:E},data:function(){return{version:N}},computed:Object(s["a"])(Object(s["a"])({},Object(l["b"])({logoSrc:function(){return"/favicon.png"},serverUrl:function(e){return e.connection.serverUrl},connected:function(e){return e.connection.connected}})),{},{linkToReleaseNotes:function(){return""}}),methods:{onUpdate:function(){this.$emit("update")}}},L=I,U=n("40dc"),A=n("8336"),M=n("2fa4"),T=n("2a7f"),$=Object(b["a"])(L,i,c,!1,null,null,null),j=$.exports;_()($,{VAppBar:U["a"],VBtn:A["a"],VSpacer:M["a"],VToolbarTitle:T["a"]});var D=n("8e27"),G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.isOpen,transition:"dialog-bottom-transition","max-width":"600",persistent:""}},[n("v-card",[n("v-card-title",[e._v(e._s(e.$t("connection.title")))]),n("v-card-text",[n("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[n("v-text-field",{attrs:{label:e.$t("connection.serverUrl"),placeholder:"https://example.com, wss://example.com",required:""},model:{value:e.serverUrl,callback:function(t){e.serverUrl=t},expression:"serverUrl"}}),n("v-text-field",{attrs:{label:e.$t("connection.path")},model:{value:e.path,callback:function(t){e.path=t},expression:"path"}}),n("v-text-field",{attrs:{label:e.$t("connection.params"),placeholder:"?key1=val1&key2=val2..."},model:{value:e.params,callback:function(t){e.params=t},expression:"params"}}),n("v-row",[n("v-col",{staticClass:"d-inline-flex"},[n("v-switch",{staticStyle:{width:"100%","margin-top":"7px"},attrs:{label:e.$t("connection.websocket-only"),inset:"",dense:""},model:{value:e.wsOnly,callback:function(t){e.wsOnly=t},expression:"wsOnly"}}),n("v-btn",{staticClass:"primary",attrs:{loading:e.isConnecting,disabled:e.isConnecting||!e.isValid,type:"submit"}},[e._v(e._s(e.$t("connection.connect"))+" ")])],1)],1),e.error?n("div",{staticClass:"red--text mt-3"},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()],1)])],1)],1)},P=[],V={name:"ConnectionModal",props:{isOpen:Boolean,isConnecting:Boolean,initialServerUrl:String,initialWsOnly:Boolean,initialPath:String,initialParams:String,error:String},data:function(){return{serverUrl:this.initialServerUrl,wsOnly:this.initialWsOnly,path:this.initialPath,params:this.initialParams}},computed:{isValid:function(){return this.serverUrl&&this.serverUrl.length},errorMessage:function(){return"invalid credentials"===this.error?this.$t("connection.invalid-credentials"):this.$t("connection.error")+this.$t("separator")+this.error}},methods:{onSubmit:function(){this.$emit("submit",{serverUrl:this.serverUrl,wsOnly:this.wsOnly,path:this.path,params:this.params})}}},R=V,B=n("b0af"),K=n("99d9"),F=n("62ad"),J=n("169a"),W=n("0fd9"),q=n("b73d"),z=n("8654"),Y=Object(b["a"])(R,G,P,!1,null,"a62eca98",null),H=Y.exports;_()(Y,{VBtn:A["a"],VCard:B["a"],VCardText:K["a"],VCardTitle:K["b"],VCol:F["a"],VDialog:J["a"],VRow:W["a"],VSwitch:q["a"],VTextField:z["a"]});var Q={name:"App",components:{ConnectionModal:H,AppBar:j},data:function(){return{showConnectionModal:!1,isConnecting:!1,connectionError:"",transitionName:"v-slide-x-reverse-transition"}},computed:Object(s["a"])({},Object(l["b"])({serverUrl:function(e){return e.connection.serverUrl},wsOnly:function(e){return e.connection.wsOnly},path:function(e){return e.connection.path},params:function(e){return e.connection.params},backgroundColor:function(){return"grey lighten-5"}})),watch:{$route:function(e,t){e.meta.topLevel&&t.meta.topLevel?this.transitionName=e.meta.index>t.meta.index?"v-slide-y-reverse-transition":"v-slide-y-transition":this.transitionName=e.meta.topLevel?"v-slide-x-transition":"v-slide-x-reverse-transition"}},methods:{tryConnect:function(e,t,n,o){var a=this;this.SocketSignalCodes={SIGNAL_KICK:100,SIGNAL_CLIENT_ONLINE:101,SIGNAL_CLIENT_OFFLINE:102,SIGNAL_PROFILE:103,SIGNAL_BANNED:104,SIGNAL_CREATED_ROOM:105,SIGNAL_CREATED_ROOM_MESSAGE:106,SIGNAL_DELETED_ROOM:107,SIGNAL_DELETED_ROOM_MESSAGE:108,SIGNAL_TYPING_ROOM_MESSAGE:109,CLIENT_SIGNAL_SET_MESSAGE_RECIPIENT_TYPE:201,CLIENT_SIGNAL_TYPING_MESSAGE:202},this.isConnecting=!0,v.socket&&(v.socket.disconnect(),v.socket.off("connect"),v.socket.off("connect_error"),v.socket.off("disconnect"),v.socket.off("_signal")),v.socket=Object(D["io"])(e,{forceNew:!0,reconnection:!1,transports:t?["websocket"]:["polling","websocket"],path:"".concat(n),query:(o||"").substr(1).split("&").reduce((function(e,t){return e[t.split("=")[0]]=t.split("=")[1],e}),{})}),v.socket.once("connect",(function(){a.showConnectionModal=!1,a.connectionError="",a.isConnecting=!1,v.socket.emit("_signal",10,"123"),v.socket.io.reconnection(!0),a.$store.commit("connection/saveConfig",{serverUrl:e,wsOnly:t,path:n,params:o})})),v.socket.on("connect",(function(){a.$store.commit("connection/connect")})),v.socket.on("connect_error",(function(e){(a.isConnecting||"invalid credentials"===e.message)&&(a.showConnectionModal=!0,a.connectionError=e.message,a.isConnecting=!1)})),v.socket.on("disconnect",(function(){a.$store.commit("connection/disconnect")})),v.socket.on("_signal",(function(e,t){e===a.SocketSignalCodes.SIGNAL_KICK&&(a.showConnectionModal=!0,a.connectionError="Kicked - ".concat(t),a.isConnecting=!1,v.socket.disconnect())}))},onSubmit:function(e){this.tryConnect(e.serverUrl,e.wsOnly,e.path,e.params)},onSubmitLogin:function(e){console.log(e)}},created:function(){this.serverUrl?this.tryConnect(this.serverUrl,this.wsOnly,this.path,this.params):this.showConnectionModal=!0}},Z=Q,X=n("7496"),ee=Object(b["a"])(Z,a,r,!1,null,null,null),te=ee.exports;_()(ee,{VApp:X["a"]});var ne=n("8c4f"),oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},ae=[],re={name:"Dashboard",computed:{breadcrumbItems:function(){return[{text:this.$t("dashboard.title"),disabled:!0}]}}},se=re,ie=Object(b["a"])(se,oe,ae,!1,null,null,null),ce=ie.exports;o["a"].use(ne["a"]);var le=[{path:"/",name:"dashboard",component:ce,meta:{topLevel:!0,index:0}}],ue=new ne["a"]({mode:"hash",base:"/",routes:le}),de=ue,pe=(n("159b"),n("d3b7"),n("ddb0"),n("466d"),n("a925"));function me(){var e=n("49f8"),t={};return e.keys().forEach((function(n){console.log(n);var o=n.match(/([A-Za-z0-9-_]+)\./i);if(o&&o.length>1){var a=o[1];t[a]=e(n)}})),t}o["a"].use(pe["a"]);var fe=new pe["a"]({locale:"en",fallbackLocale:"en",messages:me()}),ve=(n("53ca"),n("a15b"),n("a434"),n("caad"),n("2532"),n("b680"),n("1c8f"),function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}),he=ve();var ge={namespaced:!0,state:{lang:"en"},mutations:{init:function(e){he&&(e.lang=localStorage.getItem("lang")||"en")},selectLang:function(e,t){e.lang=t,he&&localStorage.setItem("lang",t)}}},be={namespaced:!0,state:{serverUrl:location.origin,wsOnly:!1,path:"/experimental",params:"?ex-authorization=TOKEN&ex-language=ru",connected:!1,sid:null},mutations:{init:function(e){he&&(e.serverUrl=localStorage.getItem("server_url")||location.origin,e.wsOnly="true"===localStorage.getItem("ws_only"),e.path=localStorage.getItem("path")||"/experimental",e.params=localStorage.getItem("params")||"?ex-authorization=TOKEN&ex-language=ru")},saveConfig:function(e,t){var n=t.serverUrl,o=t.wsOnly,a=t.path,r=t.params;e.serverUrl=n,e.wsOnly=o,e.path=a,e.params=r,he&&(localStorage.setItem("server_url",n),localStorage.setItem("ws_only",o),localStorage.setItem("path",a),localStorage.setItem("params",r))},connect:function(e){e.connected=!0},disconnect:function(e){e.connected=!1}}},Se={namespaced:!0,state:{namespaces:[],clients:[],selectedNamespace:null},getters:{sockets:function(e){return e.selectedNamespace?e.selectedNamespace.sockets:[]},rooms:function(e){return e.selectedNamespace?e.selectedNamespace.rooms:[]}},mutations:{}};o["a"].use(l["a"]);var _e=new l["a"].Store({modules:{config:ge,connection:be,main:Se}}),ye=n("f309");o["a"].use(ye["a"]);var Oe=new ye["a"]({});o["a"].config.productionTip=!1,_e.commit("config/init"),_e.commit("connection/init"),fe.locale=_e.state.config.lang,new o["a"]({router:de,i18n:fe,store:_e,vuetify:Oe,render:function(e){return e(te)}}).$mount("#app")},edd4:function(e){e.exports=JSON.parse('{"separator":": ","id":"ID","update":"Update","details":"Details","actions":"Actions","select-namespace":"Select namespace","namespace":"Namespace","namespaces":"Namespaces","disconnect":"Disconnect","name":"Name","value":"Value","type":"Type","status":"Status","connected":"connected","disconnected":"disconnected","login":{"title":"Login","username":"Username","password":"Password","button":"Login"},"connection":{"title":"Connection","serverUrl":"Server URL","connect":"Connect","invalid-credentials":"Invalid credentials","error":"Error","websocket-only":"WebSocket only?","path":"Path","params":"Query Parameters"},"dashboard":{"title":"Dashboard"},"clients":{"title":"Clients","details":"Client details","sockets-count":"# of sockets","disconnect":"Disconnect this client (and all attached Socket instances)","displayDetails":"Display the details of this client"},"config":{"language":"Language"}}')},f693:function(e){e.exports=JSON.parse('{"separator":" : ","id":"ID","update":"Mettre à jour","details":"Détails","actions":"Actions","select-namespace":"Sélection de l\'espace de noms","namespaces":"Espaces de noms","disconnect":"Déconnexion","name":"Nom","value":"Valeur","type":"Type","status":"Statut","connected":"connecté","disconnected":"déconnecté","connection":{"title":"Connexion","serverUrl":"URL du serveur","username":"Nom d\'utilisateur","password":"Mot de passe","connect":"Se connecter","invalid-credentials":"Identifiants invalides","error":"Erreur","websocket-only":"WebSocket uniquement ?","path":"Chemin HTTP"},"dashboard":{"title":"Accueil"},"config":{"language":"Langue","readonly":"Lecture seule ?","dark-theme":"Mode sombre ?"}}')}});
//# sourceMappingURL=app.1a61ea8e.js.map